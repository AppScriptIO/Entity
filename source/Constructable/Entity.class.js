"use strict";var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports, "__esModule", { value: true });exports.Prototype = exports.Reference = exports.Entity = void 0;var _ConstructableClass = require("./Constructable.class.js");
var _mergeProperty = require("../utility/mergeProperty.js");
var symbol = _interopRequireWildcard(require("../functionalityPrototype/Symbol.reference.js"));
var _multiplePrototypeDelegation = require("@dependency/multiplePrototypeDelegation");
var _delegatedLookup = require("../utility/delegatedLookup.js");


const instantiateSwitch = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.instantiate.functionality].switch,
initializeSwitch = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.initialize.functionality].switch,
constructorSwitch = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.constructor.functionality].switch,
clientInterfaceSwitch = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.clientInterface.functionality].switch;

const { class: Entity, reference: Reference, constructablePrototype: Prototype } = new _ConstructableClass.Constructable.clientInterface({ description: 'Entity' });exports.Prototype = Prototype;exports.Reference = Reference;exports.Entity = Entity;
Object.assign(Reference, {
  key: {
    multipleDelegation: Symbol('Multiple delegation'),
    concereteBehavior: Symbol('Concerete Behavior / Implementation'),
    mergeDataToInstance: Symbol('mergeDataToInstance'),
    handleDataInstance: Symbol('handleDataInstance'),
    entityClass: Symbol('entity class related'),
    prototypeForInstance: Symbol('prototype delegation object creation for Entity instances.'),
    entityInstance: Symbol('Entity instance related'),
    instanceDelegatingToEntityInstancePrototype: Symbol('instanceDelegatingToEntityInstancePrototype') },


  getInstanceOf: Symbol('Entity:getInstanceOf prototype chian lookup') });










Prototype[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].setter.call(Prototype, {

  [Reference.key.entityInstance]: {
    prototype: {

      [symbol.metadata]: { type: 'Prototype of Entity pattern - on toplevel Entity constructable.' },
      [Reference.getInstanceOf](Class, callerInstance = this) {

        return (0, _delegatedLookup.conditionDelegatedLookup)({ target: callerInstance, conditionCheck: prototypeTarget => prototypeTarget.constructor === Class });
      } } } });











Prototype[_ConstructableClass.Constructable.reference.initialize.functionality].setter.call(Prototype, {

  [Reference.key.entityInstance]({ targetInstance, prototype, construtorProperty }, previousResult) {
    if (!prototype) {
      let prototypeDelegationSetting = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].getter.call(construtorProperty, Reference.key.entityInstance);
      prototype = prototypeDelegationSetting.prototype;
    }
    Object.setPrototypeOf(targetInstance, prototype);
  },
  [Reference.key.multipleDelegation]({ targetInstance, delegationList = [] }, previousResult) {
    if (delegationList.length == 0) return;
    _multiplePrototypeDelegation.MultipleDelegation.addDelegation({ targetObject: targetInstance, delegationList });
  },

  [Reference.key.mergeDataToInstance]({ data = {}, targetInstance } = {}) {
    Object.assign(targetInstance, data);
    return targetInstance;
  },






  [Reference.key.entityClass]({ targetInstance, callerClass = this } = {}) {
    let entityPrototypeDelegation = constructorSwitch.call(callerClass, { implementationKey: Entity.reference.key.prototypeForInstance })({ description: 'Prototype for entity instances' });

    let targetConstructablePrototype = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].getter.call(targetInstance, _ConstructableClass.Constructable.reference.key.constructableClass).prototype;
    _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].setter.call(targetConstructablePrototype, {
      [Entity.reference.key.entityInstance]: {
        prototype: entityPrototypeDelegation } });


    return targetInstance;
  } });









Prototype[_ConstructableClass.Constructable.reference.constructor.functionality].setter.call(Prototype, {

  [Reference.key.entityClass]({ description, callerClass = this } = {}) {
    let entityClass = constructorSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.constructableClass })({ description });
    initializeSwitch.call(entityClass, { implementationKey: Reference.key.entityClass })({ targetInstance: entityClass });
    return entityClass;
  },
  [Reference.key.multipleDelegation]({ delegationList, callerClass = this } = {}) {

    let instance = instantiateSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.createObjectWithDelegation })({ instanceType: 'object' });


    initializeSwitch.call(callerClass, { implementationKey: Reference.key.entityInstance, recursiveDelegationChainExecution: true })({ targetInstance: instance, construtorProperty: callerClass });


    initializeSwitch.call(callerClass, { implementationKey: Reference.key.multipleDelegation })({ targetInstance: instance, delegationList });

    return instance;
  },

  [Reference.key.concereteBehavior]({
    concreteBehaviorList = [],
    constructorImplementation = Reference.key.mergeDataToInstance,
    constructorCallback,

    interceptCallback = false || (

    (constructorCallback) =>
    new Proxy(constructorCallback, {
      apply(target, thisArg, argumentList) {
        return Reflect.apply(...arguments);
      } })),

    callerClass = this })
  {
    constructorCallback || (constructorCallback = (...args) => {
      let instance = constructorSwitch.call(callerClass, { implementationKey: constructorImplementation })(...args);
      args[0].targetInstance = instance;
      initializeSwitch.call(callerClass, { implementationKey: Reference.key.concereteBehavior, recursiveDelegationChainExecution: true })(...args);
      return instance;
    });

    for (let concereteBehavior of concreteBehaviorList) {
      if (concereteBehavior[Reference.key.concereteBehavior])
      constructorCallback = concereteBehavior[Reference.key.concereteBehavior]({ constructorCallback, currentConcereteBehavior: concereteBehavior });
    }

    if (interceptCallback) constructorCallback = interceptCallback(constructorCallback);
    return constructorCallback(...arguments);
  },

  [Reference.key.mergeDataToInstance]({ data, delegationList, callerClass = this } = {}) {
    let instance = constructorSwitch.call(callerClass, { implementationKey: Reference.key.multipleDelegation })({ delegationList });

    initializeSwitch.call(callerClass, { implementationKey: Reference.key.mergeDataToInstance, recursiveDelegationChainExecution: true })({ targetInstance: instance, data: data });
    return instance;
  },

  [Reference.key.handleDataInstance]({ data, delegationList, callerClass = this } = {}) {
    let instance = constructorSwitch.call(callerClass, { implementationKey: Reference.key.multipleDelegation })({ delegationList });

    initializeSwitch.call(callerClass, { implementationKey: Reference.key.handleDataInstance, recursiveDelegationChainExecution: true })({ targetInstance: instance, data: data });
    return instance;
  },

  [Reference.key.prototypeForInstance]({ propertyObject, callerClass = this, description } = {}, previousResult) {

    let parentEntityPrototypeDelegation = _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].getter.call(callerClass, Reference.key.entityInstance).prototype || null;
    let instance = instantiateSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.createObjectWithDelegation })({ description, prototypeDelegation: parentEntityPrototypeDelegation });
    initializeSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.classInstance })({ targetInstance: instance, description: description });
    if (propertyObject) Object.assign(instance, propertyObject);
    return instance;
  } });









Prototype[_ConstructableClass.Constructable.reference.clientInterface.functionality].setter.call(Prototype, {

  [Reference.key.entityClass]({ callerClass = this }) {
    let clientInterface = clientInterfaceSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.constructableClass })({
      constructorImplementation: Reference.key.entityClass,
      returnedInstanceAdapter: instance => ({
        class: instance,
        reference: instance[_ConstructableClass.Constructable.reference.reference],
        constructablePrototype: _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].getter.call(instance, _ConstructableClass.Constructable.reference.key.constructableClass).prototype,
        entityPrototype: _ConstructableClass.Constructable[_ConstructableClass.Constructable.reference.prototypeDelegation.functionality].getter.call(instance, Reference.key.entityInstance).prototype }) });


    return clientInterface;
  },


  [Reference.key.instanceDelegatingToEntityInstancePrototype]({
    constructorImplementation,

    clientInterfaceInterceptCallback = clientInterfaceTarget => clientInterfaceSwitch.call(callerClass, { implementationKey: 'argumentsAdapterOnConstruction' })({ clientInterfaceTarget }),
    clientInterfaceCallbackList = [],
    callerClass = this } =
  {}) {
    if (!constructorImplementation) throw new Error('â€¢ Parameter `constructorImplementation` must be passed.');
    if (clientInterfaceInterceptCallback) clientInterfaceCallbackList.push(clientInterfaceInterceptCallback);

    let createClientInterface = (initialProxyTarget = function () {}) => {
      let constructCallback = argumentList => constructorSwitch.call(callerClass, { implementationKey: constructorImplementation })(...argumentList);
      return new Proxy(initialProxyTarget, {
        construct(target, argumentList, proxiedTarget) {
          if (callerClass.parameter) (0, _mergeProperty.mergeArrayWithObjectItem)({ listTarget: argumentList, listDefault: callerClass.parameter });
          return constructCallback(argumentList);
        },
        apply(target, thisArg, [{ description, parameter = [], clientInterfaceInterceptCallback = false } = {}]) {
          let newConfiguredConstructable = constructorSwitch.call(callerClass, { implementationKey: _ConstructableClass.Constructable.reference.key.configuredClass })({ description, parameter });

          return clientInterfaceSwitch.call(newConfiguredConstructable, { implementationKey: Reference.key.instanceDelegatingToEntityInstancePrototype })({
            constructorImplementation,
            clientInterfaceInterceptCallback,
            clientInterfaceCallbackList });

        } });

    };

    let clientInterfaceTarget = createClientInterface();
    clientInterfaceTarget = clientInterfaceCallbackList.reduce((accumulator, callback) => callback(accumulator), clientInterfaceTarget);
    return clientInterfaceTarget;
  },

  argumentsAdapterOnConstruction({
    clientInterfaceTarget,
    argumentListAdapter = argumentList => argumentList[0] = { data: argumentList[0] } })
  {
    return new Proxy(clientInterfaceTarget, {
      construct(target, argumentList, proxiedTarget) {
        argumentListAdapter(argumentList);
        return Reflect.construct(target, argumentList, proxiedTarget);
      } });

  } });



Entity.clientInterface = clientInterfaceSwitch.call(Entity, { implementationKey: Reference.key.entityClass })({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvdXJjZS9Db25zdHJ1Y3RhYmxlL0VudGl0eS5jbGFzcy5qcyJdLCJuYW1lcyI6WyJpbnN0YW50aWF0ZVN3aXRjaCIsIkNvbnN0cnVjdGFibGUiLCJyZWZlcmVuY2UiLCJpbnN0YW50aWF0ZSIsImZ1bmN0aW9uYWxpdHkiLCJzd2l0Y2giLCJpbml0aWFsaXplU3dpdGNoIiwiaW5pdGlhbGl6ZSIsImNvbnN0cnVjdG9yU3dpdGNoIiwiY29uc3RydWN0b3IiLCJjbGllbnRJbnRlcmZhY2VTd2l0Y2giLCJjbGllbnRJbnRlcmZhY2UiLCJjbGFzcyIsIkVudGl0eSIsIlJlZmVyZW5jZSIsImNvbnN0cnVjdGFibGVQcm90b3R5cGUiLCJQcm90b3R5cGUiLCJkZXNjcmlwdGlvbiIsIk9iamVjdCIsImFzc2lnbiIsImtleSIsIm11bHRpcGxlRGVsZWdhdGlvbiIsIlN5bWJvbCIsImNvbmNlcmV0ZUJlaGF2aW9yIiwibWVyZ2VEYXRhVG9JbnN0YW5jZSIsImhhbmRsZURhdGFJbnN0YW5jZSIsImVudGl0eUNsYXNzIiwicHJvdG90eXBlRm9ySW5zdGFuY2UiLCJlbnRpdHlJbnN0YW5jZSIsImluc3RhbmNlRGVsZWdhdGluZ1RvRW50aXR5SW5zdGFuY2VQcm90b3R5cGUiLCJnZXRJbnN0YW5jZU9mIiwicHJvdG90eXBlRGVsZWdhdGlvbiIsInNldHRlciIsInByb3RvdHlwZSIsInN5bWJvbCIsIm1ldGFkYXRhIiwidHlwZSIsIkNsYXNzIiwiY2FsbGVySW5zdGFuY2UiLCJ0YXJnZXQiLCJjb25kaXRpb25DaGVjayIsInByb3RvdHlwZVRhcmdldCIsInRhcmdldEluc3RhbmNlIiwiY29uc3RydXRvclByb3BlcnR5IiwicHJldmlvdXNSZXN1bHQiLCJwcm90b3R5cGVEZWxlZ2F0aW9uU2V0dGluZyIsImdldHRlciIsInNldFByb3RvdHlwZU9mIiwiZGVsZWdhdGlvbkxpc3QiLCJsZW5ndGgiLCJNdWx0aXBsZURlbGVnYXRpb24iLCJhZGREZWxlZ2F0aW9uIiwidGFyZ2V0T2JqZWN0IiwiZGF0YSIsImNhbGxlckNsYXNzIiwiZW50aXR5UHJvdG90eXBlRGVsZWdhdGlvbiIsImltcGxlbWVudGF0aW9uS2V5IiwidGFyZ2V0Q29uc3RydWN0YWJsZVByb3RvdHlwZSIsImNvbnN0cnVjdGFibGVDbGFzcyIsImluc3RhbmNlIiwiY3JlYXRlT2JqZWN0V2l0aERlbGVnYXRpb24iLCJpbnN0YW5jZVR5cGUiLCJyZWN1cnNpdmVEZWxlZ2F0aW9uQ2hhaW5FeGVjdXRpb24iLCJjb25jcmV0ZUJlaGF2aW9yTGlzdCIsImNvbnN0cnVjdG9ySW1wbGVtZW50YXRpb24iLCJjb25zdHJ1Y3RvckNhbGxiYWNrIiwiaW50ZXJjZXB0Q2FsbGJhY2siLCJQcm94eSIsImFwcGx5IiwidGhpc0FyZyIsImFyZ3VtZW50TGlzdCIsIlJlZmxlY3QiLCJhcmd1bWVudHMiLCJhcmdzIiwiY3VycmVudENvbmNlcmV0ZUJlaGF2aW9yIiwicHJvcGVydHlPYmplY3QiLCJwYXJlbnRFbnRpdHlQcm90b3R5cGVEZWxlZ2F0aW9uIiwiY2xhc3NJbnN0YW5jZSIsInJldHVybmVkSW5zdGFuY2VBZGFwdGVyIiwiZW50aXR5UHJvdG90eXBlIiwiY2xpZW50SW50ZXJmYWNlSW50ZXJjZXB0Q2FsbGJhY2siLCJjbGllbnRJbnRlcmZhY2VUYXJnZXQiLCJjbGllbnRJbnRlcmZhY2VDYWxsYmFja0xpc3QiLCJFcnJvciIsInB1c2giLCJjcmVhdGVDbGllbnRJbnRlcmZhY2UiLCJpbml0aWFsUHJveHlUYXJnZXQiLCJjb25zdHJ1Y3RDYWxsYmFjayIsImNvbnN0cnVjdCIsInByb3hpZWRUYXJnZXQiLCJwYXJhbWV0ZXIiLCJsaXN0VGFyZ2V0IiwibGlzdERlZmF1bHQiLCJuZXdDb25maWd1cmVkQ29uc3RydWN0YWJsZSIsImNvbmZpZ3VyZWRDbGFzcyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY2FsbGJhY2siLCJhcmd1bWVudHNBZGFwdGVyT25Db25zdHJ1Y3Rpb24iLCJhcmd1bWVudExpc3RBZGFwdGVy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Z0YsRUFBMUUsQ0FBVDs7OztBQWdFQTVFLE1BQU0sQ0FBQ0YsZUFBUCxHQUFpQ0QscUJBQVIsTUFBQUcsTUFBTSxFQUF3QixFQUFFMkMsaUJBQWlCLEVBQUUxQyxTQUFTLENBQUNNLEdBQVYsQ0FBY00sV0FBbkMsRUFBeEIsQ0FBTixDQUFnRixFQUFoRixDQUF6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0cnVjdGFibGUgfSBmcm9tICcuL0NvbnN0cnVjdGFibGUuY2xhc3MuanMnXHJcbmltcG9ydCB7IG1lcmdlQXJyYXlXaXRoT2JqZWN0SXRlbSB9IGZyb20gJy4uL3V0aWxpdHkvbWVyZ2VQcm9wZXJ0eS5qcydcclxuaW1wb3J0ICogYXMgc3ltYm9sIGZyb20gJy4uL2Z1bmN0aW9uYWxpdHlQcm90b3R5cGUvU3ltYm9sLnJlZmVyZW5jZS5qcydcclxuaW1wb3J0IHsgTXVsdGlwbGVEZWxlZ2F0aW9uIH0gZnJvbSAnQGRlcGVuZGVuY3kvbXVsdGlwbGVQcm90b3R5cGVEZWxlZ2F0aW9uJ1xyXG5pbXBvcnQgeyBjb25kaXRpb25EZWxlZ2F0ZWRMb29rdXAgfSBmcm9tICcuLi91dGlsaXR5L2RlbGVnYXRlZExvb2t1cC5qcydcclxuXHJcbi8vIHNob3J0ZXIgZm9ybXMgZm9yIHN3aXRjaCBmdW5jdGlvbnNcclxuY29uc3QgaW5zdGFudGlhdGVTd2l0Y2ggPSBDb25zdHJ1Y3RhYmxlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLmluc3RhbnRpYXRlLmZ1bmN0aW9uYWxpdHldLnN3aXRjaCxcclxuICBpbml0aWFsaXplU3dpdGNoID0gQ29uc3RydWN0YWJsZVtDb25zdHJ1Y3RhYmxlLnJlZmVyZW5jZS5pbml0aWFsaXplLmZ1bmN0aW9uYWxpdHldLnN3aXRjaCxcclxuICBjb25zdHJ1Y3RvclN3aXRjaCA9IENvbnN0cnVjdGFibGVbQ29uc3RydWN0YWJsZS5yZWZlcmVuY2UuY29uc3RydWN0b3IuZnVuY3Rpb25hbGl0eV0uc3dpdGNoLFxyXG4gIGNsaWVudEludGVyZmFjZVN3aXRjaCA9IENvbnN0cnVjdGFibGVbQ29uc3RydWN0YWJsZS5yZWZlcmVuY2UuY2xpZW50SW50ZXJmYWNlLmZ1bmN0aW9uYWxpdHldLnN3aXRjaFxyXG5cclxuZXhwb3J0IGNvbnN0IHsgY2xhc3M6IEVudGl0eSwgcmVmZXJlbmNlOiBSZWZlcmVuY2UsIGNvbnN0cnVjdGFibGVQcm90b3R5cGU6IFByb3RvdHlwZSB9ID0gbmV3IENvbnN0cnVjdGFibGUuY2xpZW50SW50ZXJmYWNlKHsgZGVzY3JpcHRpb246ICdFbnRpdHknIH0pXHJcbk9iamVjdC5hc3NpZ24oUmVmZXJlbmNlLCB7XHJcbiAga2V5OiB7XHJcbiAgICBtdWx0aXBsZURlbGVnYXRpb246IFN5bWJvbCgnTXVsdGlwbGUgZGVsZWdhdGlvbicpLFxyXG4gICAgY29uY2VyZXRlQmVoYXZpb3I6IFN5bWJvbCgnQ29uY2VyZXRlIEJlaGF2aW9yIC8gSW1wbGVtZW50YXRpb24nKSwgLy8gY29uY2VyZXRlIGJlaGF2aW9ycyBhcmUgaW5zdGFuY2UgaW1wbGVtZW50YXRpb25zIChob2xkaW5nIGEgc3BlY2lmaWMgYWxnb3JpdGhtKSB0aGF0IGV4dGVuZCB0aGUgdGFyZ2V0IGluc3RhbmNlIHRocm91Z2ggZGVsZWdhdGlvbiwgYW5kIGluaXRpYWxpemUgdGhlIHRhcmdldCBpbnN0YW5jZSB3aXRoIHRoZWlyIG93biBsb2dpY1xyXG4gICAgbWVyZ2VEYXRhVG9JbnN0YW5jZTogU3ltYm9sKCdtZXJnZURhdGFUb0luc3RhbmNlJyksXHJcbiAgICBoYW5kbGVEYXRhSW5zdGFuY2U6IFN5bWJvbCgnaGFuZGxlRGF0YUluc3RhbmNlJyksXHJcbiAgICBlbnRpdHlDbGFzczogU3ltYm9sKCdlbnRpdHkgY2xhc3MgcmVsYXRlZCcpLFxyXG4gICAgcHJvdG90eXBlRm9ySW5zdGFuY2U6IFN5bWJvbCgncHJvdG90eXBlIGRlbGVnYXRpb24gb2JqZWN0IGNyZWF0aW9uIGZvciBFbnRpdHkgaW5zdGFuY2VzLicpLFxyXG4gICAgZW50aXR5SW5zdGFuY2U6IFN5bWJvbCgnRW50aXR5IGluc3RhbmNlIHJlbGF0ZWQnKSxcclxuICAgIGluc3RhbmNlRGVsZWdhdGluZ1RvRW50aXR5SW5zdGFuY2VQcm90b3R5cGU6IFN5bWJvbCgnaW5zdGFuY2VEZWxlZ2F0aW5nVG9FbnRpdHlJbnN0YW5jZVByb3RvdHlwZScpLFxyXG4gIH0sXHJcbiAgLy8gTG9va3VwIHRoZSBwcm90b3R5cGUgY2hhaW4gZm9yIGFuIGluc3RhbmNlIHRoYXQgd2FzIGNvbnN0cnVjdGVkIHVzaW5nIGEgc3BlY2lmaWMgY2xhc3MuIGUuZy4gdXNlZnVsbCBpbiBnZXR0ZXIgdGhlIGNvbmNyZXRlIGJlaGF2aW9yIG9mIGNsYXNzZXMgb2YgYSB0YXJnZXQgaW5zdGFuY2UgKHRoYXQgaGFzIHRoZSBiZWhhdmlvcnMgaW4gaXQncyBwcm90b3R5cGUgY2hhaW4uKVxyXG4gIGdldEluc3RhbmNlT2Y6IFN5bWJvbCgnRW50aXR5OmdldEluc3RhbmNlT2YgcHJvdG90eXBlIGNoaWFuIGxvb2t1cCcpLFxyXG59KVxyXG5cclxuLypcclxuICAgICAgICAgICAgICAgICAgIF8gICAgICAgIF8gICAgICAgICAgICAgICAgICAgIF9fX18gICAgICAgXyAgICAgICAgICAgICAgICAgIF8gICBfICAgICAgICAgICAgIFxyXG4gICBfIF9fICBfIF9fIF9fXyB8IHxfIF9fXyB8IHxfIF8gICBfIF8gX18gICBfX198ICBfIFxcICBfX198IHwgX19fICBfXyBfICBfXyBffCB8XyhfKSBfX18gIF8gX18gIFxyXG4gIHwgJ18gXFx8ICdfXy8gXyBcXHwgX18vIF8gXFx8IF9ffCB8IHwgfCAnXyBcXCAvIF8gXFwgfCB8IHwvIF8gXFwgfC8gXyBcXC8gX2AgfC8gX2AgfCBfX3wgfC8gXyBcXHwgJ18gXFwgXHJcbiAgfCB8XykgfCB8IHwgKF8pIHwgfHwgKF8pIHwgfF98IHxffCB8IHxfKSB8ICBfXy8gfF98IHwgIF9fLyB8ICBfXy8gKF98IHwgKF98IHwgfF98IHwgKF8pIHwgfCB8IHxcclxuICB8IC5fXy98X3wgIFxcX19fLyBcXF9fXFxfX18vIFxcX198XFxfXywgfCAuX18vIFxcX19ffF9fX18vIFxcX19ffF98XFxfX198XFxfXywgfFxcX18sX3xcXF9ffF98XFxfX18vfF98IHxffFxyXG4gIHxffCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxfX18vfF98ICAgICAgICAgICAgICAgICAgICAgICAgICAgfF9fXy8gICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiovXHJcblByb3RvdHlwZTo6UHJvdG90eXBlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLnByb3RvdHlwZURlbGVnYXRpb24uZnVuY3Rpb25hbGl0eV0uc2V0dGVyKHtcclxuICAvLyBmb3IgZGlyZWN0IG9iamVjdHMgY3JlYXRlZCBmcm9tIEVudGl0eSBpbW1lZGlhdGVseVxyXG4gIFtSZWZlcmVuY2Uua2V5LmVudGl0eUluc3RhbmNlXToge1xyXG4gICAgcHJvdG90eXBlOiB7XHJcbiAgICAgIC8vIHR5cGUgT2JqZWN0LCB1c3VhbGx5IGNvbnRhaW5zIGBwcm90b3R5cGVgIHByb3RwZXJ0eVxyXG4gICAgICBbc3ltYm9sLm1ldGFkYXRhXTogeyB0eXBlOiAnUHJvdG90eXBlIG9mIEVudGl0eSBwYXR0ZXJuIC0gb24gdG9wbGV2ZWwgRW50aXR5IGNvbnN0cnVjdGFibGUuJyB9LFxyXG4gICAgICBbUmVmZXJlbmNlLmdldEluc3RhbmNlT2ZdKENsYXNzIC8qVGhlIGNsYXNzIHRoYXQgY29uc3RydWN0ZWQgdGhlIGNvbmNlcmV0ZSBpbnN0YW5jZSovLCBjYWxsZXJJbnN0YW5jZSA9IHRoaXMpIHtcclxuICAgICAgICAvLyBsb29rdXAgaW4gdGhpcyBmb3IgY29uc3RydWN0b3IgY2xhc3MgaW4gcHJvdG90eXBlIGNoYWluXHJcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbkRlbGVnYXRlZExvb2t1cCh7IHRhcmdldDogY2FsbGVySW5zdGFuY2UsIGNvbmRpdGlvbkNoZWNrOiBwcm90b3R5cGVUYXJnZXQgPT4gcHJvdG90eXBlVGFyZ2V0LmNvbnN0cnVjdG9yID09PSBDbGFzcyB9KVxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG59KVxyXG5cclxuLypcclxuICAgIF9fXyAgICAgICBfIF8gICBfICAgICAgIF8gXyAgICAgICAgIFxyXG4gIHxfIF98XyBfXyAoXykgfF8oXykgX18gX3wgKF8pX19fX19fXyBcclxuICAgIHwgfHwgJ18gXFx8IHwgX198IHwvIF9gIHwgfCB8XyAgLyBfIFxcXHJcbiAgICB8IHx8IHwgfCB8IHwgfF98IHwgKF98IHwgfCB8LyAvICBfXy9cclxuICB8X19ffF98IHxffF98XFxfX3xffFxcX18sX3xffF8vX19fXFxfX198XHJcbiovXHJcblByb3RvdHlwZTo6UHJvdG90eXBlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLmluaXRpYWxpemUuZnVuY3Rpb25hbGl0eV0uc2V0dGVyKHtcclxuICAvLyBpbml0aWFsaXplIGluc3RhbmNlIHdpdGggZW50aXR5IGRlbGVnYXRpb24gdmFsdWVzLlxyXG4gIFtSZWZlcmVuY2Uua2V5LmVudGl0eUluc3RhbmNlXSh7IHRhcmdldEluc3RhbmNlLCBwcm90b3R5cGUsIGNvbnN0cnV0b3JQcm9wZXJ0eSB9LCBwcmV2aW91c1Jlc3VsdCAvKiBpbiBjYXNlIG11bHRpcGxlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvdW5kIGFuZCBleGVjdXRlZC4gKi8pIHtcclxuICAgIGlmICghcHJvdG90eXBlKSB7XHJcbiAgICAgIGxldCBwcm90b3R5cGVEZWxlZ2F0aW9uU2V0dGluZyA9IGNvbnN0cnV0b3JQcm9wZXJ0eTo6Q29uc3RydWN0YWJsZVtDb25zdHJ1Y3RhYmxlLnJlZmVyZW5jZS5wcm90b3R5cGVEZWxlZ2F0aW9uLmZ1bmN0aW9uYWxpdHldLmdldHRlcihSZWZlcmVuY2Uua2V5LmVudGl0eUluc3RhbmNlKVxyXG4gICAgICBwcm90b3R5cGUgPSBwcm90b3R5cGVEZWxlZ2F0aW9uU2V0dGluZy5wcm90b3R5cGUgLy8gRW50aXRpZXMgcHJvdG90eXBlcyBkZWxlZ2F0ZSB0byBlYWNoIG90aGVyLlxyXG4gICAgfVxyXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRhcmdldEluc3RhbmNlLCBwcm90b3R5cGUpIC8vIGluaGVyaXQgb3duIGFuZCBkZWxlZ2F0ZWQgZnVuY3Rpb25hbGl0aWVzLlxyXG4gIH0sXHJcbiAgW1JlZmVyZW5jZS5rZXkubXVsdGlwbGVEZWxlZ2F0aW9uXSh7IHRhcmdldEluc3RhbmNlLCBkZWxlZ2F0aW9uTGlzdCA9IFtdIH0sIHByZXZpb3VzUmVzdWx0IC8qIGluIGNhc2UgbXVsdGlwbGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm91bmQgYW5kIGV4ZWN1dGVkLiAqLykge1xyXG4gICAgaWYgKGRlbGVnYXRpb25MaXN0Lmxlbmd0aCA9PSAwKSByZXR1cm5cclxuICAgIE11bHRpcGxlRGVsZWdhdGlvbi5hZGREZWxlZ2F0aW9uKHsgdGFyZ2V0T2JqZWN0OiB0YXJnZXRJbnN0YW5jZSwgZGVsZWdhdGlvbkxpc3QgfSlcclxuICB9LFxyXG4gIC8vIG1lcmdlIGRhdGEgaW50byBpbnN0YW5jZSBwcm9wZXJ0aWVzXHJcbiAgW1JlZmVyZW5jZS5rZXkubWVyZ2VEYXRhVG9JbnN0YW5jZV0oeyBkYXRhID0ge30sIHRhcmdldEluc3RhbmNlIH06IHsgZGF0YTogT2JqZWN0IH0gPSB7fSkge1xyXG4gICAgT2JqZWN0LmFzc2lnbih0YXJnZXRJbnN0YW5jZSwgZGF0YSkgLy8gYXBwbHkgZGF0YSB0byBpbnN0YW5jZVxyXG4gICAgcmV0dXJuIHRhcmdldEluc3RhbmNlXHJcbiAgfSxcclxuXHJcbiAgLy8gRXhhbXBsZTogVHJ5aW5nIHRvIG92ZXJyaWRlIGEgc3ltYm9sIG9mIGEgcGFyZW50IGNsYXNzIGluIHRoZSBjaGlsZCBjbGFzcyBwcm9wZXJ0aWVzLCB3aGVuIGNhbGxlZCB3aXRoIHJlY3Vyc2l2ZSBvcHRpb24gKGUuZy4gaW4gQ29uc3RydWN0YWJsZS5yZWZlcmVuY2UuY29uc3RydWN0KSB3aWxsIGV4ZWN1dGUgYWxsIGZ1bmN0aW9ucyB3aXRoIHRoZSBzYW1lIGtleSB0aHJvdWdob3V0IHRoZSBwcm90b3R5cGUgY2hhaW4uXHJcbiAgLy8gW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLmluaXRpYWxpemUua2V5LmNvbnN0cnVjdGFibGVDbGFzc10oKSB7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhgRXhlY3V0ZWQgdG9nZXRoZXIgd2l0aCBvdGhlciBDb25zdHJ1Y3RhYmxlLnJlZmVyZW5jZS5pbml0aWFsaXplLmtleS5jb25zdHJ1Y3RhYmxlQ2xhc3MgaW4gdGhlIHByb3RvdHlwZSBjaGFpbmApXHJcbiAgLy8gfSxcclxuXHJcbiAgW1JlZmVyZW5jZS5rZXkuZW50aXR5Q2xhc3NdKHsgdGFyZ2V0SW5zdGFuY2UsIGNhbGxlckNsYXNzID0gdGhpcyB9ID0ge30pIHtcclxuICAgIGxldCBlbnRpdHlQcm90b3R5cGVEZWxlZ2F0aW9uID0gY2FsbGVyQ2xhc3M6OmNvbnN0cnVjdG9yU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IEVudGl0eS5yZWZlcmVuY2Uua2V5LnByb3RvdHlwZUZvckluc3RhbmNlIH0pKHsgZGVzY3JpcHRpb246ICdQcm90b3R5cGUgZm9yIGVudGl0eSBpbnN0YW5jZXMnIH0pXHJcbiAgICAvLyBzZXQgcHJvdG90eXBlRGVsZWdhdGlvbiBvbiB0aGUgdGFyZ2V0IGNsYXNzJ3MgQ29uc3RydWN0YWJsZSBQcm90b3R5cGUsIGJlY2F1c2UgaXQgaXMgdXNlZCBmb3Igc3ViY2xhc3NlcyBlbnRpdHlQcm90b3R5cGUgZGVsZWdhdGlvbi5cclxuICAgIGxldCB0YXJnZXRDb25zdHJ1Y3RhYmxlUHJvdG90eXBlID0gdGFyZ2V0SW5zdGFuY2U6OkNvbnN0cnVjdGFibGVbQ29uc3RydWN0YWJsZS5yZWZlcmVuY2UucHJvdG90eXBlRGVsZWdhdGlvbi5mdW5jdGlvbmFsaXR5XS5nZXR0ZXIoQ29uc3RydWN0YWJsZS5yZWZlcmVuY2Uua2V5LmNvbnN0cnVjdGFibGVDbGFzcykucHJvdG90eXBlXHJcbiAgICB0YXJnZXRDb25zdHJ1Y3RhYmxlUHJvdG90eXBlOjpDb25zdHJ1Y3RhYmxlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLnByb3RvdHlwZURlbGVnYXRpb24uZnVuY3Rpb25hbGl0eV0uc2V0dGVyKHtcclxuICAgICAgW0VudGl0eS5yZWZlcmVuY2Uua2V5LmVudGl0eUluc3RhbmNlXToge1xyXG4gICAgICAgIHByb3RvdHlwZTogZW50aXR5UHJvdG90eXBlRGVsZWdhdGlvbixcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgICByZXR1cm4gdGFyZ2V0SW5zdGFuY2VcclxuICB9LFxyXG59KVxyXG5cclxuLypcclxuICAgIF9fX18gICAgICAgICAgICAgICAgXyAgICAgICAgICAgICAgICAgICBfICAgICAgICAgICAgIFxyXG4gICAvIF9fX3xfX18gIF8gX18gIF9fX3wgfF8gXyBfXyBfICAgXyAgX19ffCB8XyBfX18gIF8gX18gXHJcbiAgfCB8ICAgLyBfIFxcfCAnXyBcXC8gX198IF9ffCAnX198IHwgfCB8LyBfX3wgX18vIF8gXFx8ICdfX3xcclxuICB8IHxfX3wgKF8pIHwgfCB8IFxcX18gXFwgfF98IHwgIHwgfF98IHwgKF9ffCB8fCAoXykgfCB8ICAgXHJcbiAgIFxcX19fX1xcX19fL3xffCB8X3xfX18vXFxfX3xffCAgIFxcX18sX3xcXF9fX3xcXF9fXFxfX18vfF98ICAgXHJcbiovXHJcblByb3RvdHlwZTo6UHJvdG90eXBlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLmNvbnN0cnVjdG9yLmZ1bmN0aW9uYWxpdHldLnNldHRlcih7XHJcbiAgLy8gY3JlYXRlcyBhbiBlbnRpdHkgY2xhc3MgKGEgQ29uc3RydWN0YWJsZSB3aXRoIHNwZWljaWZpYyBFbnRpdHkgcmVsYXRlZCBwcm9wZXJ0aWVzKVxyXG4gIFtSZWZlcmVuY2Uua2V5LmVudGl0eUNsYXNzXSh7IGRlc2NyaXB0aW9uLCBjYWxsZXJDbGFzcyA9IHRoaXMgfSA9IHt9KSB7XHJcbiAgICBsZXQgZW50aXR5Q2xhc3MgPSBjYWxsZXJDbGFzczo6Y29uc3RydWN0b3JTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogQ29uc3RydWN0YWJsZS5yZWZlcmVuY2Uua2V5LmNvbnN0cnVjdGFibGVDbGFzcyB9KSh7IGRlc2NyaXB0aW9uIH0pXHJcbiAgICBlbnRpdHlDbGFzczo6aW5pdGlhbGl6ZVN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBSZWZlcmVuY2Uua2V5LmVudGl0eUNsYXNzIH0pKHsgdGFyZ2V0SW5zdGFuY2U6IGVudGl0eUNsYXNzIH0pXHJcbiAgICByZXR1cm4gZW50aXR5Q2xhc3NcclxuICB9LFxyXG4gIFtSZWZlcmVuY2Uua2V5Lm11bHRpcGxlRGVsZWdhdGlvbl0oeyBkZWxlZ2F0aW9uTGlzdCwgY2FsbGVyQ2xhc3MgPSB0aGlzIH0gPSB7fSkge1xyXG4gICAgLy8gY3JlYXRlIGluc3RhbmNlXHJcbiAgICBsZXQgaW5zdGFuY2UgPSBjYWxsZXJDbGFzczo6aW5zdGFudGlhdGVTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogQ29uc3RydWN0YWJsZS5yZWZlcmVuY2Uua2V5LmNyZWF0ZU9iamVjdFdpdGhEZWxlZ2F0aW9uIH0pKHsgaW5zdGFuY2VUeXBlOiAnb2JqZWN0JyB9KVxyXG5cclxuICAgIC8vIGRlbGVnYXRlIHRvIHRoZSBFbnRpdHkgY29uc3RydWN0YWJsZSBjbGFzc1xyXG4gICAgY2FsbGVyQ2xhc3M6OmluaXRpYWxpemVTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogUmVmZXJlbmNlLmtleS5lbnRpdHlJbnN0YW5jZSwgcmVjdXJzaXZlRGVsZWdhdGlvbkNoYWluRXhlY3V0aW9uOiB0cnVlIH0pKHsgdGFyZ2V0SW5zdGFuY2U6IGluc3RhbmNlLCBjb25zdHJ1dG9yUHJvcGVydHk6IGNhbGxlckNsYXNzIH0pXHJcblxyXG4gICAgLy8gYWRkIGFkZGl0aW9uYWwgZGVsZWdhdGlvbiBwcm90b3R5cGVzXHJcbiAgICBjYWxsZXJDbGFzczo6aW5pdGlhbGl6ZVN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBSZWZlcmVuY2Uua2V5Lm11bHRpcGxlRGVsZWdhdGlvbiB9KSh7IHRhcmdldEluc3RhbmNlOiBpbnN0YW5jZSwgZGVsZWdhdGlvbkxpc3QgfSlcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2VcclxuICB9LFxyXG4gIC8vIGluaXRpYWxpemUgdGFyZ2V0IGluc3RhbmNlIHVzaW5nIGNvbmNlcmV0ZSBiYWh2aW9ycyB0aGF0IGV4dGVuZCBpdC4gRWFjaCBjb25jcmV0ZSBiZWhhdmlvciB0YXBzIGludG8gdGhlIGNvbnN0cnVjdGlvbiBwaGFzZSBvZiB0aGUgaW5zdGFuY2UsIGFkZHMgaXRzZWxmIGFzIGRlbGVnYXRpb24gYW5kIHByb2Nlc3NlcyB0aGUgaW5zdGFuY2UuXHJcbiAgW1JlZmVyZW5jZS5rZXkuY29uY2VyZXRlQmVoYXZpb3JdKHtcclxuICAgIGNvbmNyZXRlQmVoYXZpb3JMaXN0ID0gW10sXHJcbiAgICBjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uID0gUmVmZXJlbmNlLmtleS5tZXJnZURhdGFUb0luc3RhbmNlLFxyXG4gICAgY29uc3RydWN0b3JDYWxsYmFjayxcclxuICAgIC8vIEFkZGl0aW9uYWwgaW50ZXJjZXB0aW9uIGZ1bmN0aW9uXHJcbiAgICBpbnRlcmNlcHRDYWxsYmFjayA9IGZhbHNlIHx8XHJcbiAgICAgIC8vIGV4YW1wbGUgaW50ZXJjZXB0aW9uIGNhbGxiYWNrXHJcbiAgICAgIChjb25zdHJ1Y3RvckNhbGxiYWNrID0+XHJcbiAgICAgICAgbmV3IFByb3h5KGNvbnN0cnVjdG9yQ2FsbGJhY2ssIHtcclxuICAgICAgICAgIGFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJndW1lbnRMaXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KC4uLmFyZ3VtZW50cylcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkpLFxyXG4gICAgY2FsbGVyQ2xhc3MgPSB0aGlzLFxyXG4gIH0pIHtcclxuICAgIGNvbnN0cnVjdG9yQ2FsbGJhY2sgfHw9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgIGxldCBpbnN0YW5jZSA9IGNhbGxlckNsYXNzOjpjb25zdHJ1Y3RvclN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uIH0pKC4uLmFyZ3MpXHJcbiAgICAgIGFyZ3NbMF0udGFyZ2V0SW5zdGFuY2UgPSBpbnN0YW5jZVxyXG4gICAgICBjYWxsZXJDbGFzczo6aW5pdGlhbGl6ZVN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBSZWZlcmVuY2Uua2V5LmNvbmNlcmV0ZUJlaGF2aW9yLCByZWN1cnNpdmVEZWxlZ2F0aW9uQ2hhaW5FeGVjdXRpb246IHRydWUgfSkoLi4uYXJncykgLy8gYWxsb3cgY2xhc3NlcyB0byBob29rIG92ZXIgdGhlIGluaXRpYWxpemFpaW9uIHByb2Nlc3MuXHJcbiAgICAgIHJldHVybiBpbnN0YW5jZVxyXG4gICAgfVxyXG4gICAgLy8gaW50ZXJjZXB0IGNvbnN0cnVjdG9yIGNhbGxiYWNrIHVzaW5nIGNvbmNyZXRlIGJlaGF2aW9yc1xyXG4gICAgZm9yIChsZXQgY29uY2VyZXRlQmVoYXZpb3Igb2YgY29uY3JldGVCZWhhdmlvckxpc3QpIHtcclxuICAgICAgaWYgKGNvbmNlcmV0ZUJlaGF2aW9yW1JlZmVyZW5jZS5rZXkuY29uY2VyZXRlQmVoYXZpb3JdKVxyXG4gICAgICAgIGNvbnN0cnVjdG9yQ2FsbGJhY2sgPSBjb25jZXJldGVCZWhhdmlvcltSZWZlcmVuY2Uua2V5LmNvbmNlcmV0ZUJlaGF2aW9yXSh7IGNvbnN0cnVjdG9yQ2FsbGJhY2ssIGN1cnJlbnRDb25jZXJldGVCZWhhdmlvcjogY29uY2VyZXRlQmVoYXZpb3IgfSlcclxuICAgIH1cclxuICAgIC8vIGludGVyY2VwdCB1c2luZyBpbnRlcmNlcHQgY2FsbGJhY2sgcGFyYW1ldGVyXHJcbiAgICBpZiAoaW50ZXJjZXB0Q2FsbGJhY2spIGNvbnN0cnVjdG9yQ2FsbGJhY2sgPSBpbnRlcmNlcHRDYWxsYmFjayhjb25zdHJ1Y3RvckNhbGxiYWNrKVxyXG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yQ2FsbGJhY2soLi4uYXJndW1lbnRzKVxyXG4gIH0sXHJcbiAgLy8gbWVyZ2UgZGF0YSBpbnRvIGluc3RhbmNlIHByb3BlcnRpZXMgd2l0aCBtdWx0aXBsZSBkZWxlZ2F0aW9uLlxyXG4gIFtSZWZlcmVuY2Uua2V5Lm1lcmdlRGF0YVRvSW5zdGFuY2VdKHsgZGF0YSwgZGVsZWdhdGlvbkxpc3QsIGNhbGxlckNsYXNzID0gdGhpcyB9ID0ge30pIHtcclxuICAgIGxldCBpbnN0YW5jZSA9IGNhbGxlckNsYXNzOjpjb25zdHJ1Y3RvclN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBSZWZlcmVuY2Uua2V5Lm11bHRpcGxlRGVsZWdhdGlvbiB9KSh7IGRlbGVnYXRpb25MaXN0IH0pXHJcbiAgICAvLyBpbml0aWFsaXplIGluc3RhbmNlIGRhdGEuXHJcbiAgICBjYWxsZXJDbGFzczo6aW5pdGlhbGl6ZVN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBSZWZlcmVuY2Uua2V5Lm1lcmdlRGF0YVRvSW5zdGFuY2UsIHJlY3Vyc2l2ZURlbGVnYXRpb25DaGFpbkV4ZWN1dGlvbjogdHJ1ZSB9KSh7IHRhcmdldEluc3RhbmNlOiBpbnN0YW5jZSwgZGF0YTogZGF0YSB9KVxyXG4gICAgcmV0dXJuIGluc3RhbmNlXHJcbiAgfSxcclxuICAvLyBzdWJjbGFzc2VzIHdpbGwgcHJvdmlkZSBhbiBpbml0aWFsaXphdGlvbiBpbXBsZW1lbnRhdGlvbiB3aXRoIGtleSAnaGFuZGxlRGF0YUluc3RhbmNlJ1xyXG4gIFtSZWZlcmVuY2Uua2V5LmhhbmRsZURhdGFJbnN0YW5jZV0oeyBkYXRhLCBkZWxlZ2F0aW9uTGlzdCwgY2FsbGVyQ2xhc3MgPSB0aGlzIH0gPSB7fSkge1xyXG4gICAgbGV0IGluc3RhbmNlID0gY2FsbGVyQ2xhc3M6OmNvbnN0cnVjdG9yU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IFJlZmVyZW5jZS5rZXkubXVsdGlwbGVEZWxlZ2F0aW9uIH0pKHsgZGVsZWdhdGlvbkxpc3QgfSlcclxuICAgIC8vIGluaXRpYWxpemUgaW5zdGFuY2UgZGF0YS5cclxuICAgIGNhbGxlckNsYXNzOjppbml0aWFsaXplU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IFJlZmVyZW5jZS5rZXkuaGFuZGxlRGF0YUluc3RhbmNlLCByZWN1cnNpdmVEZWxlZ2F0aW9uQ2hhaW5FeGVjdXRpb246IHRydWUgfSkoeyB0YXJnZXRJbnN0YW5jZTogaW5zdGFuY2UsIGRhdGE6IGRhdGEgfSlcclxuICAgIHJldHVybiBpbnN0YW5jZVxyXG4gIH0sXHJcbiAgLy8gcHJvdG90eXBlIC0gY3JlYXRlcyBhIHByb3RvdHlwZSB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNhbGxlciBjbGFzcyAoc2V0cyBjb25zdHJ1Y3RvciB0byBjbGFzcylcclxuICBbUmVmZXJlbmNlLmtleS5wcm90b3R5cGVGb3JJbnN0YW5jZV0oeyBwcm9wZXJ0eU9iamVjdCAvKiBUaGUgcHJvdG90eXBlIGluaXRpYWwgdmFsdWUgKi8sIGNhbGxlckNsYXNzID0gdGhpcywgZGVzY3JpcHRpb24gfSA9IHt9LCBwcmV2aW91c1Jlc3VsdCkge1xyXG4gICAgLy8gZ2V0IHRoZSBwYXJlbnQgZW50aXR5IHBhdHRlcm4gcmVsYXRlZCBwcm90b3R5cGUuXHJcbiAgICBsZXQgcGFyZW50RW50aXR5UHJvdG90eXBlRGVsZWdhdGlvbiA9IGNhbGxlckNsYXNzOjpDb25zdHJ1Y3RhYmxlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLnByb3RvdHlwZURlbGVnYXRpb24uZnVuY3Rpb25hbGl0eV0uZ2V0dGVyKFJlZmVyZW5jZS5rZXkuZW50aXR5SW5zdGFuY2UpLnByb3RvdHlwZSB8fCBudWxsXHJcbiAgICBsZXQgaW5zdGFuY2UgPSBjYWxsZXJDbGFzczo6aW5zdGFudGlhdGVTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogQ29uc3RydWN0YWJsZS5yZWZlcmVuY2Uua2V5LmNyZWF0ZU9iamVjdFdpdGhEZWxlZ2F0aW9uIH0pKHsgZGVzY3JpcHRpb24sIHByb3RvdHlwZURlbGVnYXRpb246IHBhcmVudEVudGl0eVByb3RvdHlwZURlbGVnYXRpb24gfSlcclxuICAgIGNhbGxlckNsYXNzOjppbml0aWFsaXplU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IENvbnN0cnVjdGFibGUucmVmZXJlbmNlLmtleS5jbGFzc0luc3RhbmNlIH0pKHsgdGFyZ2V0SW5zdGFuY2U6IGluc3RhbmNlLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSlcclxuICAgIGlmIChwcm9wZXJ0eU9iamVjdCkgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwgcHJvcGVydHlPYmplY3QpXHJcbiAgICByZXR1cm4gaW5zdGFuY2VcclxuICB9LFxyXG59KVxyXG5cclxuLypcclxuICAgIF9fX18gXyBfICAgICAgICAgICAgXyAgIF9fXyAgICAgICBfICAgICAgICAgICAgIF9fICAgICAgICAgICAgICAgIFxyXG4gICAvIF9fX3wgKF8pIF9fXyBfIF9fIHwgfF98XyBffF8gX18gfCB8XyBfX18gXyBfXyAvIF98IF9fIF8gIF9fXyBfX18gXHJcbiAgfCB8ICAgfCB8IHwvIF8gXFwgJ18gXFx8IF9ffHwgfHwgJ18gXFx8IF9fLyBfIFxcICdfX3wgfF8gLyBfYCB8LyBfXy8gXyBcXFxyXG4gIHwgfF9fX3wgfCB8ICBfXy8gfCB8IHwgfF8gfCB8fCB8IHwgfCB8fCAgX18vIHwgIHwgIF98IChffCB8IChffCAgX18vXHJcbiAgIFxcX19fX3xffF98XFxfX198X3wgfF98XFxfX3xfX198X3wgfF98XFxfX1xcX19ffF98ICB8X3wgIFxcX18sX3xcXF9fX1xcX19ffFxyXG4qL1xyXG5Qcm90b3R5cGU6OlByb3RvdHlwZVtDb25zdHJ1Y3RhYmxlLnJlZmVyZW5jZS5jbGllbnRJbnRlcmZhY2UuZnVuY3Rpb25hbGl0eV0uc2V0dGVyKHtcclxuICAvLyBjcmVhdGUgYW4gZW50aXR5IGNsYXNzIHRoYXQgaGFzIGZvbGxvd3MgdGhhdCBFbnRpdHkgcGF0dGVybiB0byBjcmVhdGUgaW5zdGFuY2VzIHdpdGggY3VzdG9tIHByb3RvdHlwZSBjaGFpbnMuXHJcbiAgW1JlZmVyZW5jZS5rZXkuZW50aXR5Q2xhc3NdKHsgY2FsbGVyQ2xhc3MgPSB0aGlzIH0pIHtcclxuICAgIGxldCBjbGllbnRJbnRlcmZhY2UgPSBjYWxsZXJDbGFzczo6Y2xpZW50SW50ZXJmYWNlU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IENvbnN0cnVjdGFibGUucmVmZXJlbmNlLmtleS5jb25zdHJ1Y3RhYmxlQ2xhc3MgfSkoe1xyXG4gICAgICBjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uOiBSZWZlcmVuY2Uua2V5LmVudGl0eUNsYXNzLFxyXG4gICAgICByZXR1cm5lZEluc3RhbmNlQWRhcHRlcjogaW5zdGFuY2UgPT4gKHtcclxuICAgICAgICBjbGFzczogaW5zdGFuY2UsXHJcbiAgICAgICAgcmVmZXJlbmNlOiBpbnN0YW5jZVtDb25zdHJ1Y3RhYmxlLnJlZmVyZW5jZS5yZWZlcmVuY2VdLFxyXG4gICAgICAgIGNvbnN0cnVjdGFibGVQcm90b3R5cGU6IGluc3RhbmNlOjpDb25zdHJ1Y3RhYmxlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLnByb3RvdHlwZURlbGVnYXRpb24uZnVuY3Rpb25hbGl0eV0uZ2V0dGVyKENvbnN0cnVjdGFibGUucmVmZXJlbmNlLmtleS5jb25zdHJ1Y3RhYmxlQ2xhc3MpLnByb3RvdHlwZSxcclxuICAgICAgICBlbnRpdHlQcm90b3R5cGU6IGluc3RhbmNlOjpDb25zdHJ1Y3RhYmxlW0NvbnN0cnVjdGFibGUucmVmZXJlbmNlLnByb3RvdHlwZURlbGVnYXRpb24uZnVuY3Rpb25hbGl0eV0uZ2V0dGVyKFJlZmVyZW5jZS5rZXkuZW50aXR5SW5zdGFuY2UpLnByb3RvdHlwZSxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGNsaWVudEludGVyZmFjZVxyXG4gIH0sXHJcbiAgLy8gRW50aXR5IGluc3RhbmNlIHJlbGF0aW5nIHRvIHByb3RvdHlwZSBjaGFpbiB3aXRoIGZ1bmN0aW9uYWxpdHkgc3BlY2lmaWMgdG8gdGhlIGltcGxlbWVudGVyIGNsYXNzIChzdWIgY2xhc3MsIGUuZy4gR3JhcGggRWxlbWVudClcclxuICAvLyBjcmVhdGUgYW4gaW5zdGFuY2UgdXNpbmcgZW50aXR5IGRlZmluZWQgcHJvdG90eXBlIGFuZCBpbm5pdGlhbGl6YXRpb24gZnVuY3Rpb25zLiBVc2VkIGJ5IEVudGl0eSBjbGFzc2VzIHRvIGNyZWF0ZSBhbiBpbnRlcmZhY2UgZm9yIHRoZWlyIGNsYXNzLlxyXG4gIFtSZWZlcmVuY2Uua2V5Lmluc3RhbmNlRGVsZWdhdGluZ1RvRW50aXR5SW5zdGFuY2VQcm90b3R5cGVdKHtcclxuICAgIGNvbnN0cnVjdG9ySW1wbGVtZW50YXRpb24sXHJcbiAgICAvLyBpbnRlcmNlcHQgY2xpZW50IGludGVyZmFjZSB0byBhbGxvdyBleHRlcm5hbCBtYW5pcHVsYXRpb24gb2YgaXRzIGJlaGF2aW9yLlxyXG4gICAgY2xpZW50SW50ZXJmYWNlSW50ZXJjZXB0Q2FsbGJhY2sgPSBjbGllbnRJbnRlcmZhY2VUYXJnZXQgPT4gY2FsbGVyQ2xhc3M6OmNsaWVudEludGVyZmFjZVN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiAnYXJndW1lbnRzQWRhcHRlck9uQ29uc3RydWN0aW9uJyB9KSh7IGNsaWVudEludGVyZmFjZVRhcmdldCB9KSwgLy8gJ2ZhbHNlJyBmb3IgcHJldmVudGluZyB0aGlzIGZlYXR1cmUgZnJvbSBleGVjdXRpbmcgb3IgdXNpbmcgdGhlIGRlZmF1bHQgdmFsdWUuXHJcbiAgICBjbGllbnRJbnRlcmZhY2VDYWxsYmFja0xpc3QgPSBbXSxcclxuICAgIGNhbGxlckNsYXNzID0gdGhpcyxcclxuICB9ID0ge30pIHtcclxuICAgIGlmICghY29uc3RydWN0b3JJbXBsZW1lbnRhdGlvbikgdGhyb3cgbmV3IEVycm9yKCfigKIgUGFyYW1ldGVyIGBjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uYCBtdXN0IGJlIHBhc3NlZC4nKVxyXG4gICAgaWYgKGNsaWVudEludGVyZmFjZUludGVyY2VwdENhbGxiYWNrKSBjbGllbnRJbnRlcmZhY2VDYWxsYmFja0xpc3QucHVzaChjbGllbnRJbnRlcmZhY2VJbnRlcmNlcHRDYWxsYmFjaylcclxuXHJcbiAgICBsZXQgY3JlYXRlQ2xpZW50SW50ZXJmYWNlID0gKGluaXRpYWxQcm94eVRhcmdldCA9IGZ1bmN0aW9uKCkge30pID0+IHtcclxuICAgICAgbGV0IGNvbnN0cnVjdENhbGxiYWNrID0gYXJndW1lbnRMaXN0ID0+IGNhbGxlckNsYXNzOjpjb25zdHJ1Y3RvclN3aXRjaCh7IGltcGxlbWVudGF0aW9uS2V5OiBjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uIH0pKC4uLmFyZ3VtZW50TGlzdClcclxuICAgICAgcmV0dXJuIG5ldyBQcm94eShpbml0aWFsUHJveHlUYXJnZXQsIHtcclxuICAgICAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmd1bWVudExpc3QsIHByb3hpZWRUYXJnZXQpIHtcclxuICAgICAgICAgIGlmIChjYWxsZXJDbGFzcy5wYXJhbWV0ZXIpIG1lcmdlQXJyYXlXaXRoT2JqZWN0SXRlbSh7IGxpc3RUYXJnZXQ6IGFyZ3VtZW50TGlzdCwgbGlzdERlZmF1bHQ6IGNhbGxlckNsYXNzLnBhcmFtZXRlciB9KSAvLyBpbiBjYXNlIGNvbmZpZ3VyZWQgY29uc3RydWN0YWJsZSB3aGljaCBob2xkcyBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZXMuXHJcbiAgICAgICAgICByZXR1cm4gY29uc3RydWN0Q2FsbGJhY2soYXJndW1lbnRMaXN0KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBbeyBkZXNjcmlwdGlvbiwgcGFyYW1ldGVyID0gW10sIGNsaWVudEludGVyZmFjZUludGVyY2VwdENhbGxiYWNrID0gZmFsc2UgLyogcHJldmVudCBkZWZhdWx0IHZhbHVlIGFzc2lnbm1lbnQgKi8gfSA9IHt9XSkge1xyXG4gICAgICAgICAgbGV0IG5ld0NvbmZpZ3VyZWRDb25zdHJ1Y3RhYmxlID0gY2FsbGVyQ2xhc3M6OmNvbnN0cnVjdG9yU3dpdGNoKHsgaW1wbGVtZW50YXRpb25LZXk6IENvbnN0cnVjdGFibGUucmVmZXJlbmNlLmtleS5jb25maWd1cmVkQ2xhc3MgfSkoeyBkZXNjcmlwdGlvbiwgcGFyYW1ldGVyIH0pXHJcbiAgICAgICAgICAvLyBQYXNzIHNhbWUgYXJndW1lbnRzIGZyb20gcHJldmlvdXMgY2xpZW50IGl0bmVyZmFjZVxyXG4gICAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ3VyZWRDb25zdHJ1Y3RhYmxlOjpjbGllbnRJbnRlcmZhY2VTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogUmVmZXJlbmNlLmtleS5pbnN0YW5jZURlbGVnYXRpbmdUb0VudGl0eUluc3RhbmNlUHJvdG90eXBlIH0pKHtcclxuICAgICAgICAgICAgY29uc3RydWN0b3JJbXBsZW1lbnRhdGlvbixcclxuICAgICAgICAgICAgY2xpZW50SW50ZXJmYWNlSW50ZXJjZXB0Q2FsbGJhY2ssXHJcbiAgICAgICAgICAgIGNsaWVudEludGVyZmFjZUNhbGxiYWNrTGlzdCxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY2xpZW50SW50ZXJmYWNlVGFyZ2V0ID0gY3JlYXRlQ2xpZW50SW50ZXJmYWNlKClcclxuICAgIGNsaWVudEludGVyZmFjZVRhcmdldCA9IGNsaWVudEludGVyZmFjZUNhbGxiYWNrTGlzdC5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBjYWxsYmFjaykgPT4gY2FsbGJhY2soYWNjdW11bGF0b3IpLCBjbGllbnRJbnRlcmZhY2VUYXJnZXQpXHJcbiAgICByZXR1cm4gY2xpZW50SW50ZXJmYWNlVGFyZ2V0XHJcbiAgfSxcclxuICAvLyBSZXN0cnVjdHVyZSBhcmd1bWVudHMgd2hlbiBjb25zdHJ1Y3RlZCwgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJ5IGNyZWF0aW5nIGEgcHJveHkgYXJvdW5kIHRoZSBjbGllbnQgaW50ZXJmYWNlIHByb3h5LlxyXG4gIGFyZ3VtZW50c0FkYXB0ZXJPbkNvbnN0cnVjdGlvbih7XHJcbiAgICBjbGllbnRJbnRlcmZhY2VUYXJnZXQsXHJcbiAgICBhcmd1bWVudExpc3RBZGFwdGVyID0gYXJndW1lbnRMaXN0ID0+IChhcmd1bWVudExpc3RbMF0gPSB7IGRhdGE6IGFyZ3VtZW50TGlzdFswXSB9KSwgLy8gUmVzdHJ1Y3R1cmUgYXJndW1lbnQgbGlzdFxyXG4gIH0pIHtcclxuICAgIHJldHVybiBuZXcgUHJveHkoY2xpZW50SW50ZXJmYWNlVGFyZ2V0LCB7XHJcbiAgICAgIGNvbnN0cnVjdCh0YXJnZXQsIGFyZ3VtZW50TGlzdCwgcHJveGllZFRhcmdldCkge1xyXG4gICAgICAgIGFyZ3VtZW50TGlzdEFkYXB0ZXIoYXJndW1lbnRMaXN0KVxyXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdCh0YXJnZXQsIGFyZ3VtZW50TGlzdCwgcHJveGllZFRhcmdldClcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgfSxcclxufSlcclxuXHJcbi8vIGNsaWVudCBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIHN1YiBjbGFzcyBpbnN0YW5jZSBkZWxlZ2F0aW5nIHRvIHRoZSBgRW50aXR5YCAmIGBDb25zdHJ1Y3RhYmxlYCBmdW5jdGlvbmFsaXR5IGNoYWluLlxyXG5FbnRpdHkuY2xpZW50SW50ZXJmYWNlID0gRW50aXR5OjpjbGllbnRJbnRlcmZhY2VTd2l0Y2goeyBpbXBsZW1lbnRhdGlvbktleTogUmVmZXJlbmNlLmtleS5lbnRpdHlDbGFzcyB9KSh7fSlcclxuIl19